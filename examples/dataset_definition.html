

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dataset Definition DataFrame &mdash; aurora 0.3.13 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d0ab9f1a"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Processing Configuration" href="../tutorials/processing_configuration.html" />
    <link rel="prev" title="Build an MTH5 and Operate the Aurora Pipeline" href="operate_aurora.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            aurora
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-docs/installing.html">Installing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html">Build an MTH5 and Operate the Aurora Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#1.-Build-an-MTH5-file-from-Earthscope-archives">1. Build an MTH5 file from Earthscope archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#2:-Process-Data">2: Process Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#Here-is-one-way-to-select-a-single-run:">Here is one way to select a single run:</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#To-discard-runs-that-are-not-very-long">To discard runs that are not very long</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#To-process-only-a-segment-of-data">To process only a segment of data</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#Exercise:">Exercise:</a></li>
<li class="toctree-l1"><a class="reference internal" href="operate_aurora.html#id1">Exercise:</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Dataset Definition DataFrame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Create-the-Stations-container">Create the <code class="docutils literal notranslate"><span class="pre">Stations</span></code> container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#Excercise:">Excercise:</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/processing_configuration.html">Processing Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/processing_configuration.html#Example-of-making-a-KernelDataset-from-an-mth5">Example of making a KernelDataset from an mth5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/processing_configuration.html#EMTF-Band-Setup-File">EMTF Band Setup File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html">Accessing Magnetic Field Data from EarthScope Using MTH5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#0.-Getting-started">0. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#1.-Exploring-the-data-at-EarthScope">1. Exploring the data at EarthScope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#2.-Case-Study:">2. Case Study:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#3.-Define-request-dataframe">3. Define request dataframe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#4.-Build-MTH5">4. Build MTH5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#5.-Build-MTH5-(with-data)">5. Build MTH5 (with data)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#6.-Calibrating-time-series">6. Calibrating time series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#7.-Comparison-of-time-series">7. Comparison of time series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/earthscope_magnetic_data_tutorial.html#TODO:-9.-Access-USGS-data-directly">TODO: 9. Access USGS data directly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/process_cas04_multiple_station.html">Process CAS04 with Remote Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/process_cas04_multiple_station.html#Make-MTH5-from-IRIS-Data-Managment-Center-v0.2.0">Make MTH5 from IRIS Data Managment Center v0.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/process_cas04_multiple_station.html#To-compare-with-the-archived-file,-we-need-to-set-the-coordinate-system-to-geographic">To compare with the archived file, we need to set the coordinate system to geographic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/process_cas04_multiple_station.html#Part-II:-Logic-to-save-FCs">Part II: Logic to save FCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/process_cas04_multiple_station.html#Now-that-the-FCs-are-saved-we-can-access-them:|">Now that the FCs are saved we can access them:|</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/process_cas04_multiple_station.html#Absolute-Minimal-Example">Absolute Minimal Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/synthetic_data_processing.html">Synthetic Data Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/synthetic_data_processing.html#Feature-Storage-Experimental-work-in-progress">Feature Storage <strong>Experimental work in progress</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">aurora</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">aurora</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Dataset Definition DataFrame</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/dataset_definition.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Dataset-Definition-DataFrame">
<h1>Dataset Definition DataFrame<a class="headerlink" href="#Dataset-Definition-DataFrame" title="Permalink to this heading">¶</a></h1>
<p>The purpose is to show:</p>
<ul class="simple">
<li><p>how a custom dataframe can be used to define a dataset for processing</p></li>
<li><p>that a processing config can be generated based on that dataframe.</p>
<ul>
<li><p>Specically, the stations level of the processing config, which contains information about which stations and runs are available.</p></li>
</ul>
</li>
<li><p>that we can re-use a run with different start and end times (provided that these data are available)</p>
<ul>
<li><p>i.e. say there is a long run at some station, we can use an early chunk and a later chunk from the same run, and omit some intermediate time interal from processing simply by creating one row of the dataset dataframe per run-chunk to process.</p></li>
</ul>
</li>
</ul>
<p>There are examples of using ConfigCreator to generate an entire processing config in <code class="docutils literal notranslate"><span class="pre">operate_aurora.ipynb</span></code>.</p>
<p>A user can pass to the processing config a dataframe with information about which runs to process.</p>
<p>Here is a simple example of how to do that.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mt_metadata.transfer_functions.processing.aurora</span><span class="w"> </span><span class="kn">import</span> <span class="n">Processing</span>
</pre></div>
</div>
</div>
<p>An example of creating a dataframe from scratch with the required columns to pass to <code class="docutils literal notranslate"><span class="pre">Processing</span></code>.</p>
<p>Here we consider three stations, <code class="docutils literal notranslate"><span class="pre">mt01</span></code>, <code class="docutils literal notranslate"><span class="pre">rr01</span></code>, <code class="docutils literal notranslate"><span class="pre">rr02</span></code>, each having three runs, labelled <code class="docutils literal notranslate"><span class="pre">000</span></code>, <code class="docutils literal notranslate"><span class="pre">001</span></code>, <code class="docutils literal notranslate"><span class="pre">002</span></code>. Note that we do not need to specify the information about the actual start and end times of the runs that were acquired in the field, the start and end times specified here correspond to time intervals to <em>process</em>. The information about the actual start and end times of the field data acquisition are stored elsewhere, in an MTH5 archive.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">starts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2020-01-01T00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-02-02T00:00:00&quot;</span><span class="p">]</span>
<span class="n">ends</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2020-01-31T12:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-02-28T12:00:00&quot;</span><span class="p">]</span>

<span class="n">data_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i_run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i_run</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># note that the run_id could be different for the different stations</span>
    <span class="k">for</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">ends</span><span class="p">):</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;station&quot;</span><span class="p">:</span> <span class="s2">&quot;mt01&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">run_id</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span>
            <span class="s2">&quot;end&quot;</span><span class="p">:</span> <span class="n">end</span><span class="p">,</span>
            <span class="s2">&quot;mth5_path&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;/home/mth5_path.h5&quot;</span> <span class="p">,</span>
            <span class="s2">&quot;sample_rate&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;input_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hx&quot;</span><span class="p">,</span> <span class="s2">&quot;hy&quot;</span><span class="p">],</span>
            <span class="s2">&quot;output_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hz&quot;</span><span class="p">,</span> <span class="s2">&quot;ex&quot;</span><span class="p">,</span> <span class="s2">&quot;ey&quot;</span><span class="p">],</span>
            <span class="s2">&quot;remote&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>

        <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

        <span class="n">rr_entry_01</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;station&quot;</span><span class="p">:</span> <span class="s2">&quot;rr01&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">run_id</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span>
            <span class="s2">&quot;end&quot;</span><span class="p">:</span> <span class="n">end</span><span class="p">,</span>
            <span class="s2">&quot;mth5_path&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;/home/mth5_path.h5&quot;</span> <span class="p">,</span>
            <span class="s2">&quot;sample_rate&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;input_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hx&quot;</span><span class="p">,</span> <span class="s2">&quot;hy&quot;</span><span class="p">],</span>
            <span class="s2">&quot;output_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hz&quot;</span><span class="p">,</span> <span class="s2">&quot;ex&quot;</span><span class="p">,</span> <span class="s2">&quot;ey&quot;</span><span class="p">],</span>
            <span class="s2">&quot;remote&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">}</span>
        <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rr_entry_01</span><span class="p">)</span>

        <span class="n">rr_entry_02</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;station&quot;</span><span class="p">:</span> <span class="s2">&quot;rr02&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">run_id</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span>
            <span class="s2">&quot;end&quot;</span><span class="p">:</span> <span class="n">end</span><span class="p">,</span>
            <span class="s2">&quot;mth5_path&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;/home/mth5_path.h5&quot;</span> <span class="p">,</span>
            <span class="s2">&quot;sample_rate&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;input_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hx&quot;</span><span class="p">,</span> <span class="s2">&quot;hy&quot;</span><span class="p">],</span>
            <span class="s2">&quot;output_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hz&quot;</span><span class="p">,</span> <span class="s2">&quot;ex&quot;</span><span class="p">,</span> <span class="s2">&quot;ey&quot;</span><span class="p">],</span>
            <span class="s2">&quot;remote&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">}</span>
        <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rr_entry_02</span><span class="p">)</span>


<span class="n">dataset_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span>
<span class="n">dataset_df</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dataset_df</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dataset_df</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dataset_df</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here is the <code class="docutils literal notranslate"><span class="pre">dataset_dataframe</span></code>. If this is passed to the Processing object <code class="docutils literal notranslate"><span class="pre">p</span></code>, then <code class="docutils literal notranslate"><span class="pre">p</span></code> will know how to create station metadata. Note that we can specify more than one remote. The ability to work with multiple remotes is something that maybe implemented in future, for now only the first remote station will be used in the processing.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset_df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>station</th>
      <th>run</th>
      <th>start</th>
      <th>end</th>
      <th>mth5_path</th>
      <th>sample_rate</th>
      <th>input_channels</th>
      <th>output_channels</th>
      <th>remote</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>mt01</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>rr01</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>rr02</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>mt01</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>rr01</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>rr02</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>mt01</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>rr01</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>8</th>
      <td>rr02</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9</th>
      <td>mt01</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>rr01</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>11</th>
      <td>rr02</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>12</th>
      <td>mt01</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
    </tr>
    <tr>
      <th>13</th>
      <td>rr01</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>14</th>
      <td>rr02</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>15</th>
      <td>mt01</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
    </tr>
    <tr>
      <th>16</th>
      <td>rr01</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
    <tr>
      <th>17</th>
      <td>rr02</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Initialize an empty processing object</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Processing</span><span class="p">()</span>
<span class="n">p</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{
    &#34;processing&#34;: {
        &#34;channel_nomenclature.ex&#34;: &#34;ex&#34;,
        &#34;channel_nomenclature.ey&#34;: &#34;ey&#34;,
        &#34;channel_nomenclature.hx&#34;: &#34;hx&#34;,
        &#34;channel_nomenclature.hy&#34;: &#34;hy&#34;,
        &#34;channel_nomenclature.hz&#34;: &#34;hz&#34;,
        &#34;decimations&#34;: [],
        &#34;id&#34;: null,
        &#34;stations.local.id&#34;: null,
        &#34;stations.local.mth5_path&#34;: null,
        &#34;stations.local.remote&#34;: false,
        &#34;stations.local.runs&#34;: [],
        &#34;stations.remote&#34;: []
    }
}
</pre></div></div>
</div>
<section id="Create-the-Stations-container">
<h2>Create the <code class="docutils literal notranslate"><span class="pre">Stations</span></code> container<a class="headerlink" href="#Create-the-Stations-container" title="Permalink to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">stations</span><span class="o">.</span><span class="n">from_dataset_dataframe</span><span class="p">(</span><span class="n">dataset_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now <code class="docutils literal notranslate"><span class="pre">p</span></code> has all the station and run information.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{
    &#34;processing&#34;: {
        &#34;channel_nomenclature.ex&#34;: &#34;ex&#34;,
        &#34;channel_nomenclature.ey&#34;: &#34;ey&#34;,
        &#34;channel_nomenclature.hx&#34;: &#34;hx&#34;,
        &#34;channel_nomenclature.hy&#34;: &#34;hy&#34;,
        &#34;channel_nomenclature.hz&#34;: &#34;hz&#34;,
        &#34;decimations&#34;: [],
        &#34;id&#34;: null,
        &#34;stations.local.id&#34;: &#34;mt01&#34;,
        &#34;stations.local.mth5_path&#34;: &#34;/home/mth5_path.h5&#34;,
        &#34;stations.local.remote&#34;: false,
        &#34;stations.local.runs&#34;: [
            {
                &#34;run&#34;: {
                    &#34;id&#34;: &#34;000&#34;,
                    &#34;input_channels&#34;: [
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hx&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hy&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        }
                    ],
                    &#34;output_channels&#34;: [
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hz&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;ex&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;ey&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        }
                    ],
                    &#34;sample_rate&#34;: 10.0,
                    &#34;time_periods&#34;: [
                        {
                            &#34;time_period&#34;: {
                                &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                            }
                        },
                        {
                            &#34;time_period&#34;: {
                                &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                            }
                        }
                    ]
                }
            },
            {
                &#34;run&#34;: {
                    &#34;id&#34;: &#34;001&#34;,
                    &#34;input_channels&#34;: [
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hx&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hy&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        }
                    ],
                    &#34;output_channels&#34;: [
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hz&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;ex&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;ey&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        }
                    ],
                    &#34;sample_rate&#34;: 10.0,
                    &#34;time_periods&#34;: [
                        {
                            &#34;time_period&#34;: {
                                &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                            }
                        },
                        {
                            &#34;time_period&#34;: {
                                &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                            }
                        }
                    ]
                }
            },
            {
                &#34;run&#34;: {
                    &#34;id&#34;: &#34;002&#34;,
                    &#34;input_channels&#34;: [
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hx&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hy&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        }
                    ],
                    &#34;output_channels&#34;: [
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;hz&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;ex&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        },
                        {
                            &#34;channel&#34;: {
                                &#34;id&#34;: &#34;ey&#34;,
                                &#34;scale_factor&#34;: 1.0
                            }
                        }
                    ],
                    &#34;sample_rate&#34;: 10.0,
                    &#34;time_periods&#34;: [
                        {
                            &#34;time_period&#34;: {
                                &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                            }
                        },
                        {
                            &#34;time_period&#34;: {
                                &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                            }
                        }
                    ]
                }
            }
        ],
        &#34;stations.remote&#34;: [
            {
                &#34;station&#34;: {
                    &#34;id&#34;: &#34;rr01&#34;,
                    &#34;mth5_path&#34;: &#34;/home/mth5_path.h5&#34;,
                    &#34;remote&#34;: true,
                    &#34;runs&#34;: [
                        {
                            &#34;run&#34;: {
                                &#34;id&#34;: &#34;000&#34;,
                                &#34;input_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hx&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hy&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;output_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hz&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ex&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ey&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;sample_rate&#34;: 10.0,
                                &#34;time_periods&#34;: [
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                                        }
                                    },
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            &#34;run&#34;: {
                                &#34;id&#34;: &#34;001&#34;,
                                &#34;input_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hx&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hy&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;output_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hz&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ex&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ey&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;sample_rate&#34;: 10.0,
                                &#34;time_periods&#34;: [
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                                        }
                                    },
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            &#34;run&#34;: {
                                &#34;id&#34;: &#34;002&#34;,
                                &#34;input_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hx&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hy&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;output_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hz&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ex&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ey&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;sample_rate&#34;: 10.0,
                                &#34;time_periods&#34;: [
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                                        }
                                    },
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                &#34;station&#34;: {
                    &#34;id&#34;: &#34;rr02&#34;,
                    &#34;mth5_path&#34;: &#34;/home/mth5_path.h5&#34;,
                    &#34;remote&#34;: true,
                    &#34;runs&#34;: [
                        {
                            &#34;run&#34;: {
                                &#34;id&#34;: &#34;000&#34;,
                                &#34;input_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hx&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hy&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;output_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hz&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ex&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ey&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;sample_rate&#34;: 10.0,
                                &#34;time_periods&#34;: [
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                                        }
                                    },
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            &#34;run&#34;: {
                                &#34;id&#34;: &#34;001&#34;,
                                &#34;input_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hx&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hy&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;output_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hz&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ex&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ey&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;sample_rate&#34;: 10.0,
                                &#34;time_periods&#34;: [
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                                        }
                                    },
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            &#34;run&#34;: {
                                &#34;id&#34;: &#34;002&#34;,
                                &#34;input_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hx&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hy&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;output_channels&#34;: [
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;hz&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ex&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    },
                                    {
                                        &#34;channel&#34;: {
                                            &#34;id&#34;: &#34;ey&#34;,
                                            &#34;scale_factor&#34;: 1.0
                                        }
                                    }
                                ],
                                &#34;sample_rate&#34;: 10.0,
                                &#34;time_periods&#34;: [
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-01-31T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-01-01T00:00:00+00:00&#34;
                                        }
                                    },
                                    {
                                        &#34;time_period&#34;: {
                                            &#34;end&#34;: &#34;2020-02-28T12:00:00+00:00&#34;,
                                            &#34;start&#34;: &#34;2020-02-02T00:00:00+00:00&#34;
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ]
    }
}
</pre></div></div>
</div>
<p>We can recover the dataframe from <code class="docutils literal notranslate"><span class="pre">p</span></code> by asking it for a <code class="docutils literal notranslate"><span class="pre">dataset_dataframe</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stations</span><span class="o">.</span><span class="n">to_dataset_dataframe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The new dataframe <code class="docutils literal notranslate"><span class="pre">df2</span></code> contains the same information as the original, but is not sorted exactly the same</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>station</th>
      <th>run</th>
      <th>start</th>
      <th>end</th>
      <th>mth5_path</th>
      <th>sample_rate</th>
      <th>input_channels</th>
      <th>output_channels</th>
      <th>remote</th>
      <th>channel_scale_factors</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>mt01</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>mt01</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>mt01</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>mt01</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>mt01</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>mt01</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>rr01</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>rr01</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>rr01</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>rr01</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>rr01</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>rr01</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>rr02</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>rr02</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>rr02</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>rr02</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>16</th>
      <td>rr02</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>17</th>
      <td>rr02</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>To recover the original dataframe, (in this specific example) sort by run, start and station</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;station&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>station</th>
      <th>run</th>
      <th>start</th>
      <th>end</th>
      <th>mth5_path</th>
      <th>sample_rate</th>
      <th>input_channels</th>
      <th>output_channels</th>
      <th>remote</th>
      <th>channel_scale_factors</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>mt01</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>rr01</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>rr02</td>
      <td>000</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>mt01</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>rr01</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>rr02</td>
      <td>000</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>mt01</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>rr01</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>rr02</td>
      <td>001</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>mt01</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>rr01</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>rr02</td>
      <td>001</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>mt01</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>rr01</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>rr02</td>
      <td>002</td>
      <td>2020-01-01 00:00:00+00:00</td>
      <td>2020-01-31 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>mt01</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>False</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>16</th>
      <td>rr01</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
    <tr>
      <th>17</th>
      <td>rr02</td>
      <td>002</td>
      <td>2020-02-02 00:00:00+00:00</td>
      <td>2020-02-28 12:00:00+00:00</td>
      <td>/home/mth5_path.h5</td>
      <td>10.0</td>
      <td>[hx, hy]</td>
      <td>[hz, ex, ey]</td>
      <td>True</td>
      <td>{'hx': 1.0, 'hy': 1.0, 'hz': 1.0, 'ex': 1.0, '...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>We can see that the dataframes are equal:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">dataset_df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span><span class="o">==</span><span class="n">dataset_df</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Excercise:">
<h1>Excercise:<a class="headerlink" href="#Excercise:" title="Permalink to this heading">¶</a></h1>
<p>Below is an example of getting a channel_summary dataframe from an mth5, which can be used to inform the choice of a dataset dataframe.</p>
<p>Run the cells below and then create a dataset definition from the channel summary that will process two chunks of data, 3 days at the start of the second run, and 4 days at then end of the last run</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">mth5.mth5</span><span class="w"> </span><span class="kn">import</span> <span class="n">MTH5</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mt_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">MT_EXPERIMENT_MULTIPLE_RUNS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mt_metadata.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">Experiment</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MT_EXPERIMENT_MULTIPLE_RUNS</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PosixPath(&#39;/home/kkappler/software/irismt/mt_metadata/mt_metadata/data/mt_xml/multi_run_experiment.xml&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">()</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">from_xml</span><span class="p">(</span><span class="n">MT_EXPERIMENT_MULTIPLE_RUNS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MTH5</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">open_mth5</span><span class="p">(</span><span class="s2">&quot;test_dataset_definition.h5&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-yellow-intense-fg ansi-bold">2024-08-28T15:52:24.361188-0700 | WARNING | mth5.mth5 | open_mth5 | test_dataset_definition.h5 will be overwritten in &#39;w&#39; mode</span>
<span class="ansi-bold">2024-08-28T15:52:24.913025-0700 | INFO | mth5.mth5 | _initialize_file | Initialized MTH5 0.2.0 file test_dataset_definition.h5 in mode w</span>
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/:
====================
    |- Group: Experiment
    --------------------
        |- Group: Reports
        -----------------
        |- Group: Standards
        -------------------
            --&gt; Dataset: summary
            ......................
        |- Group: Surveys
        -----------------
        --&gt; Dataset: channel_summary
        ..............................
        --&gt; Dataset: tf_summary
        .........................
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">from_experiment</span><span class="p">(</span><span class="n">experiment</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">channel_summary</span><span class="o">.</span><span class="n">clear_table</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">channel_summary</span><span class="o">.</span><span class="n">summarize</span><span class="p">()</span>
<span class="n">channel_df</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">channel_summary</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
<span class="n">channel_df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>survey</th>
      <th>station</th>
      <th>run</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>elevation</th>
      <th>component</th>
      <th>start</th>
      <th>end</th>
      <th>n_samples</th>
      <th>sample_rate</th>
      <th>measurement_type</th>
      <th>azimuth</th>
      <th>tilt</th>
      <th>units</th>
      <th>has_data</th>
      <th>hdf5_reference</th>
      <th>run_hdf5_reference</th>
      <th>station_hdf5_reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>a</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>ex</td>
      <td>2020-07-05 23:19:41+00:00</td>
      <td>2020-07-06 00:11:55+00:00</td>
      <td>3134</td>
      <td>1.0</td>
      <td>electric</td>
      <td>11.193362</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>a</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>ey</td>
      <td>2020-07-05 23:19:41+00:00</td>
      <td>2020-07-06 00:11:55+00:00</td>
      <td>3134</td>
      <td>1.0</td>
      <td>electric</td>
      <td>101.193362</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>a</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hx</td>
      <td>2020-07-05 23:19:41+00:00</td>
      <td>2020-07-06 00:11:55+00:00</td>
      <td>3134</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>11.193362</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>a</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hy</td>
      <td>2020-07-05 23:19:41+00:00</td>
      <td>2020-07-06 00:11:55+00:00</td>
      <td>3134</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>101.193362</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>a</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hz</td>
      <td>2020-07-05 23:19:41+00:00</td>
      <td>2020-07-06 00:11:55+00:00</td>
      <td>3134</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>0.000000</td>
      <td>90.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>b</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>ex</td>
      <td>2020-07-06 00:32:41+00:00</td>
      <td>2020-07-20 17:43:45+00:00</td>
      <td>1271464</td>
      <td>1.0</td>
      <td>electric</td>
      <td>11.193368</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>6</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>b</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>ey</td>
      <td>2020-07-06 00:32:41+00:00</td>
      <td>2020-07-20 17:43:45+00:00</td>
      <td>1271464</td>
      <td>1.0</td>
      <td>electric</td>
      <td>101.193368</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>7</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>b</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hx</td>
      <td>2020-07-06 00:32:41+00:00</td>
      <td>2020-07-20 17:43:45+00:00</td>
      <td>1271464</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>11.193368</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>8</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>b</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hy</td>
      <td>2020-07-06 00:32:41+00:00</td>
      <td>2020-07-20 17:43:45+00:00</td>
      <td>1271464</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>101.193368</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>9</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>b</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hz</td>
      <td>2020-07-06 00:32:41+00:00</td>
      <td>2020-07-20 17:43:45+00:00</td>
      <td>1271464</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>0.000000</td>
      <td>90.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>10</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>c</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>ex</td>
      <td>2020-07-20 18:54:26+00:00</td>
      <td>2020-07-28 16:38:25+00:00</td>
      <td>683039</td>
      <td>1.0</td>
      <td>electric</td>
      <td>11.193367</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>11</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>c</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>ey</td>
      <td>2020-07-20 18:54:26+00:00</td>
      <td>2020-07-28 16:38:25+00:00</td>
      <td>683039</td>
      <td>1.0</td>
      <td>electric</td>
      <td>101.193367</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>12</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>c</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hx</td>
      <td>2020-07-20 18:54:26+00:00</td>
      <td>2020-07-28 16:38:25+00:00</td>
      <td>683039</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>11.193367</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>13</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>c</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hy</td>
      <td>2020-07-20 18:54:26+00:00</td>
      <td>2020-07-28 16:38:25+00:00</td>
      <td>683039</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>101.193367</td>
      <td>0.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
    <tr>
      <th>14</th>
      <td>CONUS South</td>
      <td>UTS14</td>
      <td>c</td>
      <td>37.563198</td>
      <td>-113.301663</td>
      <td>2490.775</td>
      <td>hz</td>
      <td>2020-07-20 18:54:26+00:00</td>
      <td>2020-07-28 16:38:25+00:00</td>
      <td>683039</td>
      <td>1.0</td>
      <td>magnetic</td>
      <td>0.000000</td>
      <td>90.0</td>
      <td>counts</td>
      <td>False</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
      <td>&lt;HDF5 object reference&gt;</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">close_mth5</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-bold">2024-08-28T15:52:26.355757-0700 | INFO | mth5.mth5 | close_mth5 | Flushing and closing test_dataset_definition.h5</span>
</pre></div></div>
</div>
<p>From the above channel summary we can see that there are three runs, at station UTS14, the first being a few minutes long, the second about two weeks, and the third around 1 week.</p>
<p>Insert code here for creating custom dataset</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="operate_aurora.html" class="btn btn-neutral float-left" title="Build an MTH5 and Operate the Aurora Pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tutorials/processing_configuration.html" class="btn btn-neutral float-right" title="Processing Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Karl Kappler, Jared Peacock, Andy Frassetto, Tim Ronan, Lindsey Heagy, Douglas Oldenburg.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>